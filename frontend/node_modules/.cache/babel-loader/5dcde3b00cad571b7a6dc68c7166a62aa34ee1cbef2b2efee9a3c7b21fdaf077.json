{"ast":null,"code":"import axios from 'axios';\nimport { toast } from 'react-hot-toast';\n\n// ✅ Automatically picks backend URL from environment\nconst api = axios.create({\n  baseURL: process.env.REACT_APP_API_URL || 'https://omega-chat-awsj.onrender.com/api',\n  timeout: 30000,\n  // 30 seconds timeout\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  withCredentials: false // Set to false for development\n});\n\n// Request interceptor to add auth token\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n\n  // Log the request for debugging\n  console.log('API Request:', {\n    method: config.method.toUpperCase(),\n    url: config.url,\n    baseURL: config.baseURL,\n    fullURL: `${config.baseURL}${config.url}`\n  });\n  return config;\n}, error => {\n  console.error('Request interceptor error:', error);\n  return Promise.reject(error);\n});\n\n// Response interceptor for error handling\napi.interceptors.response.use(response => {\n  console.log('API Response:', {\n    status: response.status,\n    url: response.config.url,\n    data: response.data\n  });\n  return response;\n}, error => {\n  // Log the error for debugging\n  console.error('API Error:', {\n    message: error.message,\n    code: error.code,\n    response: error.response,\n    request: error.request\n  });\n\n  // Handle different types of errors\n  if (!error.response && !error.request) {\n    // Something happened in setting up the request\n    toast.error('Request setup error. Please try again.');\n    return Promise.reject(error);\n  }\n  if (!error.response) {\n    // Network error - no response received\n    toast.error(`Cannot connect to server. Please check if the backend is running on ${process.env.REACT_APP_API_URL || 'https://omega-chat-awsj.onrender.com/api'}`);\n    return Promise.reject(error);\n  }\n  const {\n    status,\n    data\n  } = error.response;\n\n  // Handle specific error codes\n  switch (status) {\n    case 401:\n      // Unauthorized - clear token and redirect to login\n      localStorage.removeItem('token');\n      delete api.defaults.headers.common['Authorization'];\n      // Only show toast if user is on a protected page\n      if (window.location.pathname !== '/login' && window.location.pathname !== '/signup') {\n        toast.error('Session expired. Please login again.');\n        window.location.href = '/login';\n      }\n      break;\n    case 403:\n      toast.error('Access denied. You don\\'t have permission for this action.');\n      break;\n    case 404:\n      // Don't show 404 errors for auth profile checks\n      if (!error.config.url.includes('/auth/profile')) {\n        toast.error((data === null || data === void 0 ? void 0 : data.message) || 'Resource not found.');\n      }\n      break;\n    case 429:\n      toast.error('Too many requests. Please try again later.');\n      break;\n    case 500:\n      toast.error('Server error. Please try again later.');\n      break;\n    default:\n      // Show the error message from the server, but not for auth profile checks\n      if (!error.config.url.includes('/auth/profile')) {\n        toast.error((data === null || data === void 0 ? void 0 : data.message) || `Request failed with status ${status}`);\n      }\n      break;\n  }\n  return Promise.reject(error);\n});\n\n// API helper functions\nexport const apiHelpers = {\n  // Test connection - Updated to use /api/test\n  testConnection: () => api.get('/test'),\n  // Auth APIs\n  login: credentials => api.post('/auth/login', credentials),\n  signup: userData => api.post('/auth/signup', userData),\n  logout: () => api.post('/auth/logout'),\n  getProfile: () => api.get('/auth/profile'),\n  updateProfile: data => api.put('/auth/profile', data),\n  // User APIs\n  getUsers: params => api.get('/users', {\n    params\n  }),\n  getUserById: id => api.get(`/users/${id}`),\n  updateUser: (id, data) => api.put(`/users/${id}`, data),\n  deleteUser: id => api.delete(`/users/${id}`),\n  getUserContacts: () => api.get('/users/contacts'),\n  searchUsers: query => api.get('/users/search', {\n    params: {\n      query\n    }\n  }),\n  // Chat APIs\n  createPrivateChat: receiverId => api.post('/chat/private', {\n    receiverId\n  }),\n  sendMessage: messageData => api.post('/chat/message', messageData),\n  getUserChats: () => api.get('/chat/user-chats'),\n  getChatMessages: (chatId, params) => api.get(`/chat/${chatId}/messages`, {\n    params\n  }),\n  markMessagesAsRead: chatId => api.put(`/chat/${chatId}/mark-read`),\n  deleteMessage: messageId => api.delete(`/chat/message/${messageId}`),\n  // Upload APIs\n  uploadImage: formData => api.post('/upload/image', formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  }),\n  uploadVideo: formData => api.post('/upload/video', formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  }),\n  uploadDocument: formData => api.post('/upload/document', formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  }),\n  deleteFile: cloudinaryId => api.delete(`/upload/${cloudinaryId}`),\n  // Health check\n  healthCheck: () => api.get('/health')\n};\n\n// File upload helper with progress\nexport const uploadFileWithProgress = (file, type, onProgress) => {\n  const formData = new FormData();\n  formData.append('file', file);\n  const uploadEndpoint = type === 'image' ? '/upload/image' : type === 'video' ? '/upload/video' : '/upload/document';\n  return api.post(uploadEndpoint, formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    },\n    onUploadProgress: progressEvent => {\n      if (onProgress) {\n        const progress = Math.round(progressEvent.loaded * 100 / progressEvent.total);\n        onProgress(progress);\n      }\n    }\n  });\n};\n\n// Utility functions\nexport const utils = {\n  // Format file size\n  formatFileSize: bytes => {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  },\n  // Get file type from mime type\n  getFileType: mimeType => {\n    if (mimeType.startsWith('image/')) return 'image';\n    if (mimeType.startsWith('video/')) return 'video';\n    return 'document';\n  },\n  // Validate file type and size\n  validateFile: (file, maxSize = 50) => {\n    const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp', 'video/mp4', 'video/avi', 'video/mov', 'video/wmv', 'application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document', 'text/plain'];\n    if (!allowedTypes.includes(file.type)) {\n      return {\n        valid: false,\n        error: 'File type not supported'\n      };\n    }\n    const fileSizeInMB = file.size / (1024 * 1024);\n    if (fileSizeInMB > maxSize) {\n      return {\n        valid: false,\n        error: `File size must be less than ${maxSize}MB`\n      };\n    }\n    return {\n      valid: true\n    };\n  },\n  // Create file preview URL\n  createFilePreview: file => {\n    if (file.type.startsWith('image/')) {\n      return URL.createObjectURL(file);\n    }\n    return null;\n  },\n  // Clean up file preview URL\n  revokeFilePreview: url => {\n    if (url && url.startsWith('blob:')) {\n      URL.revokeObjectURL(url);\n    }\n  }\n};\nexport default api;","map":{"version":3,"names":["axios","toast","api","create","baseURL","process","env","REACT_APP_API_URL","timeout","headers","withCredentials","interceptors","request","use","config","token","localStorage","getItem","Authorization","console","log","method","toUpperCase","url","fullURL","error","Promise","reject","response","status","data","message","code","removeItem","defaults","common","window","location","pathname","href","includes","apiHelpers","testConnection","get","login","credentials","post","signup","userData","logout","getProfile","updateProfile","put","getUsers","params","getUserById","id","updateUser","deleteUser","delete","getUserContacts","searchUsers","query","createPrivateChat","receiverId","sendMessage","messageData","getUserChats","getChatMessages","chatId","markMessagesAsRead","deleteMessage","messageId","uploadImage","formData","uploadVideo","uploadDocument","deleteFile","cloudinaryId","healthCheck","uploadFileWithProgress","file","type","onProgress","FormData","append","uploadEndpoint","onUploadProgress","progressEvent","progress","Math","round","loaded","total","utils","formatFileSize","bytes","k","sizes","i","floor","parseFloat","pow","toFixed","getFileType","mimeType","startsWith","validateFile","maxSize","allowedTypes","valid","fileSizeInMB","size","createFilePreview","URL","createObjectURL","revokeFilePreview","revokeObjectURL"],"sources":["C:/Users/jyoti/codefiles/chat_app/frontend/src/utils/api.js"],"sourcesContent":["import axios from 'axios';\r\nimport { toast } from 'react-hot-toast';\r\n\r\n// ✅ Automatically picks backend URL from environment\r\nconst api = axios.create({\r\n  baseURL: process.env.REACT_APP_API_URL || 'https://omega-chat-awsj.onrender.com/api',\r\n  timeout: 30000, // 30 seconds timeout\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n  withCredentials: false, // Set to false for development\r\n});\r\n\r\n// Request interceptor to add auth token\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    \r\n    // Log the request for debugging\r\n    console.log('API Request:', {\r\n      method: config.method.toUpperCase(),\r\n      url: config.url,\r\n      baseURL: config.baseURL,\r\n      fullURL: `${config.baseURL}${config.url}`\r\n    });\r\n    \r\n    return config;\r\n  },\r\n  (error) => {\r\n    console.error('Request interceptor error:', error);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Response interceptor for error handling\r\napi.interceptors.response.use(\r\n  (response) => {\r\n    console.log('API Response:', {\r\n      status: response.status,\r\n      url: response.config.url,\r\n      data: response.data\r\n    });\r\n    return response;\r\n  },\r\n  (error) => {\r\n    // Log the error for debugging\r\n    console.error('API Error:', {\r\n      message: error.message,\r\n      code: error.code,\r\n      response: error.response,\r\n      request: error.request\r\n    });\r\n\r\n    // Handle different types of errors\r\n    if (!error.response && !error.request) {\r\n      // Something happened in setting up the request\r\n      toast.error('Request setup error. Please try again.');\r\n      return Promise.reject(error);\r\n    }\r\n\r\n    if (!error.response) {\r\n      // Network error - no response received\r\n      toast.error(\r\n        `Cannot connect to server. Please check if the backend is running on ${process.env.REACT_APP_API_URL || 'https://omega-chat-awsj.onrender.com/api'}`\r\n      );\r\n      return Promise.reject(error);\r\n    }\r\n\r\n    const { status, data } = error.response;\r\n\r\n    // Handle specific error codes\r\n    switch (status) {\r\n      case 401:\r\n        // Unauthorized - clear token and redirect to login\r\n        localStorage.removeItem('token');\r\n        delete api.defaults.headers.common['Authorization'];\r\n        // Only show toast if user is on a protected page\r\n        if (window.location.pathname !== '/login' && window.location.pathname !== '/signup') {\r\n          toast.error('Session expired. Please login again.');\r\n          window.location.href = '/login';\r\n        }\r\n        break;\r\n        \r\n      case 403:\r\n        toast.error('Access denied. You don\\'t have permission for this action.');\r\n        break;\r\n        \r\n      case 404:\r\n        // Don't show 404 errors for auth profile checks\r\n        if (!error.config.url.includes('/auth/profile')) {\r\n          toast.error(data?.message || 'Resource not found.');\r\n        }\r\n        break;\r\n        \r\n      case 429:\r\n        toast.error('Too many requests. Please try again later.');\r\n        break;\r\n        \r\n      case 500:\r\n        toast.error('Server error. Please try again later.');\r\n        break;\r\n        \r\n      default:\r\n        // Show the error message from the server, but not for auth profile checks\r\n        if (!error.config.url.includes('/auth/profile')) {\r\n          toast.error(data?.message || `Request failed with status ${status}`);\r\n        }\r\n        break;\r\n    }\r\n\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// API helper functions\r\nexport const apiHelpers = {\r\n  // Test connection - Updated to use /api/test\r\n  testConnection: () => api.get('/test'),\r\n  \r\n  // Auth APIs\r\n  login: (credentials) => api.post('/auth/login', credentials),\r\n  signup: (userData) => api.post('/auth/signup', userData),\r\n  logout: () => api.post('/auth/logout'),\r\n  getProfile: () => api.get('/auth/profile'),\r\n  updateProfile: (data) => api.put('/auth/profile', data),\r\n\r\n  // User APIs\r\n  getUsers: (params) => api.get('/users', { params }),\r\n  getUserById: (id) => api.get(`/users/${id}`),\r\n  updateUser: (id, data) => api.put(`/users/${id}`, data),\r\n  deleteUser: (id) => api.delete(`/users/${id}`),\r\n  getUserContacts: () => api.get('/users/contacts'),\r\n  searchUsers: (query) => api.get('/users/search', { params: { query } }),\r\n\r\n  // Chat APIs\r\n  createPrivateChat: (receiverId) => api.post('/chat/private', { receiverId }),\r\n  sendMessage: (messageData) => api.post('/chat/message', messageData),\r\n  getUserChats: () => api.get('/chat/user-chats'),\r\n  getChatMessages: (chatId, params) => api.get(`/chat/${chatId}/messages`, { params }),\r\n  markMessagesAsRead: (chatId) => api.put(`/chat/${chatId}/mark-read`),\r\n  deleteMessage: (messageId) => api.delete(`/chat/message/${messageId}`),\r\n\r\n  // Upload APIs\r\n  uploadImage: (formData) => api.post('/upload/image', formData, {\r\n    headers: { 'Content-Type': 'multipart/form-data' }\r\n  }),\r\n  uploadVideo: (formData) => api.post('/upload/video', formData, {\r\n    headers: { 'Content-Type': 'multipart/form-data' }\r\n  }),\r\n  uploadDocument: (formData) => api.post('/upload/document', formData, {\r\n    headers: { 'Content-Type': 'multipart/form-data' }\r\n  }),\r\n  deleteFile: (cloudinaryId) => api.delete(`/upload/${cloudinaryId}`),\r\n\r\n  // Health check\r\n  healthCheck: () => api.get('/health')\r\n};\r\n\r\n// File upload helper with progress\r\nexport const uploadFileWithProgress = (file, type, onProgress) => {\r\n  const formData = new FormData();\r\n  formData.append('file', file);\r\n\r\n  const uploadEndpoint = type === 'image' ? '/upload/image' : \r\n                        type === 'video' ? '/upload/video' : \r\n                        '/upload/document';\r\n\r\n  return api.post(uploadEndpoint, formData, {\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data'\r\n    },\r\n    onUploadProgress: (progressEvent) => {\r\n      if (onProgress) {\r\n        const progress = Math.round(\r\n          (progressEvent.loaded * 100) / progressEvent.total\r\n        );\r\n        onProgress(progress);\r\n      }\r\n    }\r\n  });\r\n};\r\n\r\n// Utility functions\r\nexport const utils = {\r\n  // Format file size\r\n  formatFileSize: (bytes) => {\r\n    if (bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n  },\r\n\r\n  // Get file type from mime type\r\n  getFileType: (mimeType) => {\r\n    if (mimeType.startsWith('image/')) return 'image';\r\n    if (mimeType.startsWith('video/')) return 'video';\r\n    return 'document';\r\n  },\r\n\r\n  // Validate file type and size\r\n  validateFile: (file, maxSize = 50) => {\r\n    const allowedTypes = [\r\n      'image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp',\r\n      'video/mp4', 'video/avi', 'video/mov', 'video/wmv',\r\n      'application/pdf', 'application/msword', \r\n      'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\r\n      'text/plain'\r\n    ];\r\n\r\n    if (!allowedTypes.includes(file.type)) {\r\n      return { valid: false, error: 'File type not supported' };\r\n    }\r\n\r\n    const fileSizeInMB = file.size / (1024 * 1024);\r\n    if (fileSizeInMB > maxSize) {\r\n      return { valid: false, error: `File size must be less than ${maxSize}MB` };\r\n    }\r\n\r\n    return { valid: true };\r\n  },\r\n\r\n  // Create file preview URL\r\n  createFilePreview: (file) => {\r\n    if (file.type.startsWith('image/')) {\r\n      return URL.createObjectURL(file);\r\n    }\r\n    return null;\r\n  },\r\n\r\n  // Clean up file preview URL\r\n  revokeFilePreview: (url) => {\r\n    if (url && url.startsWith('blob:')) {\r\n      URL.revokeObjectURL(url);\r\n    }\r\n  }\r\n};\r\n\r\nexport default api;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}